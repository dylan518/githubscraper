import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

class WordDictionary {
    Map<Integer, ArrayList<String>> words;

    public WordDictionary() {
        words = new HashMap<>();
    }

    public void addWord(String word) {
        ArrayList<String> list = words.getOrDefault(word.length(), new ArrayList<>());
        list.add(word);
        words.put(word.length(), list);
    }

    public boolean search(String word) {
        for (String s : words.getOrDefault(word.length(), new ArrayList<>())) if (isEqual(s, word)) return true;
        return false;
    }

    public boolean isEqual(String s1, String s2) {
        for (int i = 0; i < s1.length(); i++) if (!(s1.charAt(i) == s2.charAt(i) || s2.charAt(i) == '.')) return false;
        return true;
    }
}